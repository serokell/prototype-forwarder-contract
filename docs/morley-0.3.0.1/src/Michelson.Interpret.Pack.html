<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Module, carrying logic of @PACK@ instruction.</span><span>
</span><a name="line-2"></a><span class="hs-comment">--</span><span>
</span><a name="line-3"></a><span class="hs-comment">-- This is nearly symmetric to adjacent Unpack.hs module.</span><span>
</span><a name="line-4"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Michelson.Interpret.Pack</span><span>
</span><a name="line-5"></a><span>  </span><span class="hs-special">(</span><span> </span><a href="Michelson.Interpret.Pack.html#packValue"><span class="hs-identifier hs-var">packValue</span></a><span>
</span><a name="line-6"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Michelson.Interpret.Pack.html#packValue%27"><span class="hs-identifier hs-var">packValue'</span></a><span>
</span><a name="line-7"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Prelude</span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">EQ</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">GT</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">LT</span><span class="hs-special">)</span><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Exception</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">assert</span><span class="hs-special">)</span><span>
</span><a name="line-12"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Binary.Put</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Bi</span><span>
</span><a name="line-13"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Bits</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Bits</span><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.ByteArray</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">ByteArray</span><span>
</span><a name="line-15"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.ByteString.Lazy</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">LBS</span><span>
</span><a name="line-16"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Map</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Map</span><span>
</span><a name="line-17"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Singletons</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">SingI</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span class="hs-keyword">import</span><span> </span><a href="Michelson.Text.html"><span class="hs-identifier">Michelson.Text</span></a><span>
</span><a name="line-20"></a><span class="hs-keyword">import</span><span> </span><a href="Michelson.Typed.html"><span class="hs-identifier">Michelson.Typed</span></a><span>
</span><a name="line-21"></a><span class="hs-keyword">import</span><span> </span><a href="Tezos.Address.html"><span class="hs-identifier">Tezos.Address</span></a><span> </span><span class="hs-special">(</span><a href="Tezos.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-22"></a><span class="hs-keyword">import</span><span> </span><a href="Tezos.Core.html"><span class="hs-identifier">Tezos.Core</span></a><span> </span><span class="hs-special">(</span><a href="Tezos.Core.html#Mutez"><span class="hs-identifier hs-type">Mutez</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Tezos.Core.html#timestampToSeconds"><span class="hs-identifier hs-var">timestampToSeconds</span></a><span class="hs-special">)</span><span>
</span><a name="line-23"></a><span class="hs-keyword">import</span><span> </span><a href="Tezos.Crypto.html"><span class="hs-identifier">Tezos.Crypto</span></a><span> </span><span class="hs-special">(</span><a href="Tezos.Crypto.html#KeyHash"><span class="hs-identifier hs-type">KeyHash</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Tezos.Crypto.html#PublicKey"><span class="hs-identifier hs-type">PublicKey</span></a><span class="hs-special">(</span><span class="hs-identifier">unPublicKey</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Tezos.Crypto.html#Signature"><span class="hs-identifier hs-type">Signature</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-24"></a><span>
</span><a name="line-25"></a><span class="hs-comment">-- | Serialize a value given to @PACK@ instruction.</span><span>
</span><a name="line-26"></a><span class="hs-identifier">packValue</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">SingI</span><span> </span><a href="#local-6989586621680498345"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoOp"><span class="hs-identifier hs-type">HasNoOp</span></a><span> </span><a href="#local-6989586621680498345"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoBigMap"><span class="hs-identifier hs-type">HasNoBigMap</span></a><span> </span><a href="#local-6989586621680498345"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Michelson.Typed.Aliases.html#Value"><span class="hs-identifier hs-type">Value</span></a><span> </span><a href="#local-6989586621680498345"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-27"></a><a name="packValue"><a href="Michelson.Interpret.Pack.html#packValue"><span class="hs-identifier">packValue</span></a></a><span> </span><a name="local-6989586621680498346"><a href="#local-6989586621680498346"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;\x05&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498346"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-28"></a><span>
</span><a name="line-29"></a><span class="hs-comment">-- | Same as 'packValue', for strict bytestring.</span><span>
</span><a name="line-30"></a><span class="hs-identifier">packValue'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">SingI</span><span> </span><a href="#local-6989586621680498344"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoOp"><span class="hs-identifier hs-type">HasNoOp</span></a><span> </span><a href="#local-6989586621680498344"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoBigMap"><span class="hs-identifier hs-type">HasNoBigMap</span></a><span> </span><a href="#local-6989586621680498344"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Michelson.Typed.Aliases.html#Value"><span class="hs-identifier hs-type">Value</span></a><span> </span><a href="#local-6989586621680498344"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">ByteString</span><span>
</span><a name="line-31"></a><a name="packValue%27"><a href="Michelson.Interpret.Pack.html#packValue%27"><span class="hs-identifier">packValue'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">LBS.toStrict</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Michelson.Interpret.Pack.html#packValue"><span class="hs-identifier hs-var">packValue</span></a><span>
</span><a name="line-32"></a><span>
</span><a name="line-33"></a><span class="hs-identifier">encodeValue</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621680498343"><a href="#local-6989586621680498343"><span class="hs-identifier">t</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">SingI</span><span> </span><a href="#local-6989586621680498343"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoOp"><span class="hs-identifier hs-type">HasNoOp</span></a><span> </span><a href="#local-6989586621680498343"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoBigMap"><span class="hs-identifier hs-type">HasNoBigMap</span></a><span> </span><a href="#local-6989586621680498343"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Michelson.Typed.Aliases.html#Value"><span class="hs-identifier hs-type">Value</span></a><span> </span><a href="#local-6989586621680498343"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-34"></a><a name="encodeValue"><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier">encodeValue</span></a></a><span> </span><a name="local-6989586621680498347"><a href="#local-6989586621680498347"><span class="hs-identifier">val</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621680498347"><span class="hs-identifier hs-var">val</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">sing</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498343"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-35"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VC"><span class="hs-identifier hs-var">VC</span></a><span> </span><a name="local-6989586621680498348"><a href="#local-6989586621680498348"><span class="hs-identifier">cval</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeCValue"><span class="hs-identifier hs-var">encodeCValue</span></a><span> </span><a href="#local-6989586621680498348"><span class="hs-identifier hs-var">cval</span></a><span>
</span><a name="line-36"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VKey"><span class="hs-identifier hs-var">VKey</span></a><span> </span><a name="local-6989586621680498349"><a href="#local-6989586621680498349"><span class="hs-identifier">s</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-37"></a><span>    </span><a href="Michelson.Interpret.Pack.html#encodeBytes"><span class="hs-identifier hs-var">encodeBytes</span></a><span> </span><span class="hs-string">&quot;\x00&quot;</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-38"></a><span>      </span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">ByteArray.convert</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unPublicKey</span><span> </span><a href="#local-6989586621680498349"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-39"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VUnit"><span class="hs-identifier hs-var">VUnit</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x0b&quot;</span><span>
</span><a name="line-40"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VSignature"><span class="hs-identifier hs-var">VSignature</span></a><span> </span><a name="local-6989586621680498350"><a href="#local-6989586621680498350"><span class="hs-identifier">x</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-41"></a><span>    </span><a href="Michelson.Interpret.Pack.html#encodeBytes"><span class="hs-identifier hs-var">encodeBytes</span></a><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-42"></a><span>      </span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">ByteArray.convert</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unSignature</span><span> </span><a href="#local-6989586621680498350"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-43"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VOption"><span class="hs-identifier hs-var">VOption</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621680498351"><a href="#local-6989586621680498351"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Sing.html#STOption"><span class="hs-identifier hs-var">STOption</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x05\x09&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498351"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-44"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VOption"><span class="hs-identifier hs-var">VOption</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x06&quot;</span><span>
</span><a name="line-45"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VList"><span class="hs-identifier hs-var">VList</span></a><span> </span><a name="local-6989586621680498352"><a href="#local-6989586621680498352"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Sing.html#STList"><span class="hs-identifier hs-var">STList</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeList"><span class="hs-identifier hs-var">encodeList</span></a><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498352"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-46"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VSet"><span class="hs-identifier hs-var">VSet</span></a><span> </span><a name="local-6989586621680498353"><a href="#local-6989586621680498353"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeList"><span class="hs-identifier hs-var">encodeList</span></a><span> </span><a href="Michelson.Interpret.Pack.html#encodeCValue"><span class="hs-identifier hs-var">encodeCValue</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">toList</span><span> </span><a href="#local-6989586621680498353"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">)</span><span>
</span><a name="line-47"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VContract"><span class="hs-identifier hs-var">VContract</span></a><span> </span><a name="local-6989586621680498354"><a href="#local-6989586621680498354"><span class="hs-identifier">addr</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeAddress"><span class="hs-identifier hs-var">encodeAddress</span></a><span> </span><a href="#local-6989586621680498354"><span class="hs-identifier hs-var">addr</span></a><span>
</span><a name="line-48"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VPair"><span class="hs-identifier hs-var">VPair</span></a><span> </span><span class="hs-special">(</span><a name="local-6989586621680498355"><a href="#local-6989586621680498355"><span class="hs-identifier">v1</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621680498356"><a href="#local-6989586621680498356"><span class="hs-identifier">v2</span></a></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Sing.html#STPair"><span class="hs-identifier hs-var">STPair</span></a><span> </span><a name="local-6989586621680498357"><a href="#local-6989586621680498357"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-49"></a><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="Michelson.Typed.Scope.html#checkOpPresence"><span class="hs-identifier hs-var">checkOpPresence</span></a><span> </span><a href="#local-6989586621680498357"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#checkBigMapPresence"><span class="hs-identifier hs-var">checkBigMapPresence</span></a><span> </span><a href="#local-6989586621680498357"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-50"></a><span>      </span><span class="hs-special">(</span><a href="Michelson.Typed.Scope.html#OpAbsent"><span class="hs-identifier hs-var">OpAbsent</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#BigMapAbsent"><span class="hs-identifier hs-var">BigMapAbsent</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x07\x07&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498355"><span class="hs-identifier hs-var">v1</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498356"><span class="hs-identifier hs-var">v2</span></a><span>
</span><a name="line-51"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VOr"><span class="hs-identifier hs-var">VOr</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Left</span><span> </span><a name="local-6989586621680498358"><a href="#local-6989586621680498358"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Sing.html#STOr"><span class="hs-identifier hs-var">STOr</span></a><span> </span><a name="local-6989586621680498359"><a href="#local-6989586621680498359"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-52"></a><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="Michelson.Typed.Scope.html#checkOpPresence"><span class="hs-identifier hs-var">checkOpPresence</span></a><span> </span><a href="#local-6989586621680498359"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#checkBigMapPresence"><span class="hs-identifier hs-var">checkBigMapPresence</span></a><span> </span><a href="#local-6989586621680498359"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-53"></a><span>      </span><span class="hs-special">(</span><a href="Michelson.Typed.Scope.html#OpAbsent"><span class="hs-identifier hs-var">OpAbsent</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#BigMapAbsent"><span class="hs-identifier hs-var">BigMapAbsent</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x05\x05&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498358"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-54"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VOr"><span class="hs-identifier hs-var">VOr</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Right</span><span> </span><a name="local-6989586621680498360"><a href="#local-6989586621680498360"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Sing.html#STOr"><span class="hs-identifier hs-var">STOr</span></a><span> </span><a name="local-6989586621680498361"><a href="#local-6989586621680498361"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-55"></a><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="Michelson.Typed.Scope.html#checkOpPresence"><span class="hs-identifier hs-var">checkOpPresence</span></a><span> </span><a href="#local-6989586621680498361"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#checkBigMapPresence"><span class="hs-identifier hs-var">checkBigMapPresence</span></a><span> </span><a href="#local-6989586621680498361"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-56"></a><span>      </span><span class="hs-special">(</span><a href="Michelson.Typed.Scope.html#OpAbsent"><span class="hs-identifier hs-var">OpAbsent</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#BigMapAbsent"><span class="hs-identifier hs-var">BigMapAbsent</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x05\x08&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498360"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-57"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VLam"><span class="hs-identifier hs-var">VLam</span></a><span> </span><a name="local-6989586621680498362"><a href="#local-6989586621680498362"><span class="hs-identifier">lam</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498362"><span class="hs-identifier hs-var">lam</span></a><span>
</span><a name="line-58"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Value.html#VMap"><span class="hs-identifier hs-var">VMap</span></a><span> </span><a name="local-6989586621680498363"><a href="#local-6989586621680498363"><span class="hs-identifier">m</span></a></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Sing.html#STMap"><span class="hs-identifier hs-var">STMap</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeMap"><span class="hs-identifier hs-var">encodeMap</span></a><span> </span><a href="#local-6989586621680498363"><span class="hs-identifier hs-var">m</span></a><span>
</span><a name="line-59"></a><span>
</span><a name="line-60"></a><span class="hs-identifier">encodeCValue</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Typed.CValue.html#CValue"><span class="hs-identifier hs-type">CValue</span></a><span> </span><a href="#local-6989586621680498342"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-61"></a><a name="encodeCValue"><a href="Michelson.Interpret.Pack.html#encodeCValue"><span class="hs-identifier">encodeCValue</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-62"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvInt"><span class="hs-identifier hs-var">CvInt</span></a><span> </span><a name="local-6989586621680498364"><a href="#local-6989586621680498364"><span class="hs-identifier">x</span></a></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeNumeric"><span class="hs-identifier hs-var">encodeNumeric</span></a><span> </span><a href="#local-6989586621680498364"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-63"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvNat"><span class="hs-identifier hs-var">CvNat</span></a><span> </span><a name="local-6989586621680498365"><a href="#local-6989586621680498365"><span class="hs-identifier">x</span></a></a><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeNumeric"><span class="hs-identifier hs-var">encodeNumeric</span></a><span> </span><a href="#local-6989586621680498365"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-64"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvString"><span class="hs-identifier hs-var">CvString</span></a><span> </span><a name="local-6989586621680498366"><a href="#local-6989586621680498366"><span class="hs-identifier">text</span></a></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeString"><span class="hs-identifier hs-var">encodeString</span></a><span> </span><a href="#local-6989586621680498366"><span class="hs-identifier hs-var">text</span></a><span>
</span><a name="line-65"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvBytes"><span class="hs-identifier hs-var">CvBytes</span></a><span> </span><a name="local-6989586621680498367"><a href="#local-6989586621680498367"><span class="hs-identifier">bytes</span></a></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeBytes"><span class="hs-identifier hs-var">encodeBytes</span></a><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><a href="#local-6989586621680498367"><span class="hs-identifier hs-var">bytes</span></a><span class="hs-special">)</span><span>
</span><a name="line-66"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvMutez"><span class="hs-identifier hs-var">CvMutez</span></a><span> </span><a name="local-6989586621680498368"><a href="#local-6989586621680498368"><span class="hs-identifier">x</span></a></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeNumeric"><span class="hs-identifier hs-var">encodeNumeric</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">unMutez</span><span> </span><a href="#local-6989586621680498368"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-67"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvBool"><span class="hs-identifier hs-var">CvBool</span></a><span> </span><span class="hs-identifier hs-var">True</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x0a&quot;</span><span>
</span><a name="line-68"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvBool"><span class="hs-identifier hs-var">CvBool</span></a><span> </span><span class="hs-identifier hs-var">False</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x03&quot;</span><span>
</span><a name="line-69"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvKeyHash"><span class="hs-identifier hs-var">CvKeyHash</span></a><span> </span><a name="local-6989586621680498369"><a href="#local-6989586621680498369"><span class="hs-identifier">s</span></a></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeBytes"><span class="hs-identifier hs-var">encodeBytes</span></a><span> </span><span class="hs-string">&quot;\x00&quot;</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unKeyHash</span><span> </span><a href="#local-6989586621680498369"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-70"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvTimestamp"><span class="hs-identifier hs-var">CvTimestamp</span></a><span> </span><a name="local-6989586621680498370"><a href="#local-6989586621680498370"><span class="hs-identifier">x</span></a></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeNumeric"><span class="hs-identifier hs-var">encodeNumeric</span></a><span> </span><span class="hs-special">(</span><a href="Tezos.Core.html#timestampToSeconds"><span class="hs-identifier hs-var">timestampToSeconds</span></a><span> </span><span class="hs-glyph">@</span><span class="hs-identifier hs-type">Integer</span><span> </span><a href="#local-6989586621680498370"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-71"></a><span>  </span><a href="Michelson.Typed.CValue.html#CvAddress"><span class="hs-identifier hs-var">CvAddress</span></a><span> </span><a name="local-6989586621680498371"><a href="#local-6989586621680498371"><span class="hs-identifier">addr</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeAddress"><span class="hs-identifier hs-var">encodeAddress</span></a><span> </span><a href="#local-6989586621680498371"><span class="hs-identifier hs-var">addr</span></a><span>
</span><a name="line-72"></a><span>
</span><a name="line-73"></a><span class="hs-identifier">encodeLength</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-74"></a><a name="encodeLength"><a href="Michelson.Interpret.Pack.html#encodeLength"><span class="hs-identifier">encodeLength</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Bi.runPut</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">Bi.putWord32be</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">fromIntegral</span><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><span class="hs-comment">-- | Lift encoded list content to an entire encoded list.</span><span>
</span><a name="line-77"></a><span class="hs-identifier">encodeAsList</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-78"></a><a name="encodeAsList"><a href="Michelson.Interpret.Pack.html#encodeAsList"><span class="hs-identifier">encodeAsList</span></a></a><span> </span><a name="local-6989586621680498372"><a href="#local-6989586621680498372"><span class="hs-identifier">bs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeLength"><span class="hs-identifier hs-var">encodeLength</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">length</span><span> </span><a href="#local-6989586621680498372"><span class="hs-identifier hs-var">bs</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621680498372"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-79"></a><span>
</span><a name="line-80"></a><span class="hs-comment">-- | Encode a list-like structure.</span><span>
</span><a name="line-81"></a><span class="hs-identifier">encodeList</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621680498341"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621680498341"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-82"></a><a name="encodeList"><a href="Michelson.Interpret.Pack.html#encodeList"><span class="hs-identifier">encodeList</span></a></a><span> </span><a name="local-6989586621680498373"><a href="#local-6989586621680498373"><span class="hs-identifier">encodeElem</span></a></a><span> </span><a name="local-6989586621680498374"><a href="#local-6989586621680498374"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;\x02&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeAsList"><span class="hs-identifier hs-var">encodeAsList</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">LBS.concat</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><a href="#local-6989586621680498373"><span class="hs-identifier hs-var">encodeElem</span></a><span> </span><a href="#local-6989586621680498374"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">)</span><span>
</span><a name="line-83"></a><span>
</span><a name="line-84"></a><span class="hs-comment">-- | Encode a text.</span><span>
</span><a name="line-85"></a><span class="hs-identifier">encodeString</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Text.html#MText"><span class="hs-identifier hs-type">MText</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-86"></a><a name="encodeString"><a href="Michelson.Interpret.Pack.html#encodeString"><span class="hs-identifier">encodeString</span></a></a><span> </span><a name="local-6989586621680498375"><a href="#local-6989586621680498375"><span class="hs-identifier">text</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;\x01&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeAsList"><span class="hs-identifier hs-var">encodeAsList</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">encodeUtf8</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unMText</span><span> </span><a href="#local-6989586621680498375"><span class="hs-identifier hs-var">text</span></a><span class="hs-special">)</span><span>
</span><a name="line-87"></a><span>
</span><a name="line-88"></a><span class="hs-comment">-- | Encode some raw data.</span><span>
</span><a name="line-89"></a><span class="hs-identifier">encodeBytes</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">ByteString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">ByteString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-90"></a><a name="encodeBytes"><a href="Michelson.Interpret.Pack.html#encodeBytes"><span class="hs-identifier">encodeBytes</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a name="local-6989586621680498376"><a href="#local-6989586621680498376"><span class="hs-identifier">prefix</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a name="local-6989586621680498377"><a href="#local-6989586621680498377"><span class="hs-identifier">suffix</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621680498378"><a href="#local-6989586621680498378"><span class="hs-identifier">bs</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-91"></a><span>  </span><span class="hs-string">&quot;\x0a&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeAsList"><span class="hs-identifier hs-var">encodeAsList</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621680498376"><span class="hs-identifier hs-var">prefix</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621680498378"><span class="hs-identifier hs-var">bs</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="#local-6989586621680498377"><span class="hs-identifier hs-var">suffix</span></a><span class="hs-special">)</span><span>
</span><a name="line-92"></a><span>
</span><a name="line-93"></a><span class="hs-comment">-- | Encode some map.</span><span>
</span><a name="line-94"></a><span class="hs-identifier">encodeMap</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">SingI</span><span> </span><a href="#local-6989586621680498339"><span class="hs-identifier hs-type">v</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoOp"><span class="hs-identifier hs-type">HasNoOp</span></a><span> </span><a href="#local-6989586621680498339"><span class="hs-identifier hs-type">v</span></a><span class="hs-special">,</span><span> </span><a href="Michelson.Typed.Scope.html#HasNoBigMap"><span class="hs-identifier hs-type">HasNoBigMap</span></a><span> </span><a href="#local-6989586621680498339"><span class="hs-identifier hs-type">v</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Map</span><span> </span><span class="hs-special">(</span><a href="Michelson.Typed.CValue.html#CValue"><span class="hs-identifier hs-type">CValue</span></a><span> </span><a href="#local-6989586621680498340"><span class="hs-identifier hs-type">k</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Michelson.Typed.Aliases.html#Value"><span class="hs-identifier hs-type">Value</span></a><span> </span><a href="#local-6989586621680498339"><span class="hs-identifier hs-type">v</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-95"></a><a name="encodeMap"><a href="Michelson.Interpret.Pack.html#encodeMap"><span class="hs-identifier">encodeMap</span></a></a><span> </span><a name="local-6989586621680498379"><a href="#local-6989586621680498379"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-96"></a><span>  </span><a href="Michelson.Interpret.Pack.html#encodeList"><span class="hs-identifier hs-var">encodeList</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><a name="local-6989586621680498380"><a href="#local-6989586621680498380"><span class="hs-identifier">k</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621680498381"><a href="#local-6989586621680498381"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x07\x04&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeCValue"><span class="hs-identifier hs-var">encodeCValue</span></a><span> </span><a href="#local-6989586621680498380"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498381"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Map.toList</span><span> </span><a href="#local-6989586621680498379"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span>
</span><a name="line-97"></a><span>
</span><a name="line-98"></a><span class="hs-identifier">encodeAddress</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Tezos.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-99"></a><a name="encodeAddress"><a href="Michelson.Interpret.Pack.html#encodeAddress"><span class="hs-identifier">encodeAddress</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-100"></a><span>  </span><a href="Tezos.Address.html#KeyAddress"><span class="hs-identifier hs-var">KeyAddress</span></a><span> </span><a name="local-6989586621680498382"><a href="#local-6989586621680498382"><span class="hs-identifier">keyHash</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeBytes"><span class="hs-identifier hs-var">encodeBytes</span></a><span> </span><span class="hs-string">&quot;\x00\x00&quot;</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">unKeyHash</span><span> </span><a href="#local-6989586621680498382"><span class="hs-identifier hs-var">keyHash</span></a><span class="hs-special">)</span><span>
</span><a name="line-101"></a><span>  </span><a href="Tezos.Address.html#ContractAddress"><span class="hs-identifier hs-var">ContractAddress</span></a><span> </span><a name="local-6989586621680498383"><a href="#local-6989586621680498383"><span class="hs-identifier">address</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeBytes"><span class="hs-identifier hs-var">encodeBytes</span></a><span> </span><span class="hs-string">&quot;\x01&quot;</span><span> </span><span class="hs-string">&quot;\x00&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">LBS.fromStrict</span><span> </span><a href="#local-6989586621680498383"><span class="hs-identifier hs-var">address</span></a><span class="hs-special">)</span><span>
</span><a name="line-102"></a><span>
</span><a name="line-103"></a><span class="hs-comment">-- | Encode contents of a given number.</span><span>
</span><a name="line-104"></a><span class="hs-identifier">encodeIntPayload</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Integer</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-105"></a><a name="encodeIntPayload"><a href="Michelson.Interpret.Pack.html#encodeIntPayload"><span class="hs-identifier">encodeIntPayload</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">LBS.pack</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">toList</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621680498384"><span class="hs-identifier hs-var">doEncode</span></a><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-106"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-107"></a><span>    </span><span class="hs-comment">{- Numbers are represented as follows:

    byte 0:         1              _         ______   ||  lowest digits
            has continuation  is negative   payload   ||
                                                      ||
    byte 1:         1                       _______   ||
    ...             1                       _______   ||
    byte n:         0                       _______   ||
            has continuation                payload   \/  highest digits
    -}</span><span>
</span><a name="line-117"></a><span>    </span><span class="hs-identifier">doEncode</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Integer</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><span class="hs-identifier hs-type">Word8</span><span>
</span><a name="line-118"></a><span>    </span><a name="local-6989586621680498384"><a href="#local-6989586621680498384"><span class="hs-identifier">doEncode</span></a></a><span> </span><a name="local-6989586621680498385"><a href="#local-6989586621680498385"><span class="hs-identifier">isFirst</span></a></a><span> </span><a name="local-6989586621680498386"><a href="#local-6989586621680498386"><span class="hs-identifier">a</span></a></a><span>
</span><a name="line-119"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621680498386"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="#local-6989586621680498387"><span class="hs-identifier hs-var">byteWeight</span></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-120"></a><span>          </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><a name="local-6989586621680498388"><a href="#local-6989586621680498388"><span class="hs-identifier">hi</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621680498389"><a href="#local-6989586621680498389"><span class="hs-identifier">lo</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621680498386"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">divMod</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621680498387"><span class="hs-identifier hs-var">byteWeight</span></a><span>
</span><a name="line-121"></a><span>              </span><a name="local-6989586621680498390"><a href="#local-6989586621680498390"><span class="hs-identifier">byte</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Bits.setBit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-glyph">@</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">@</span><span class="hs-identifier hs-type">Word8</span><span> </span><a href="#local-6989586621680498389"><span class="hs-identifier hs-var">lo</span></a><span class="hs-special">)</span><span> </span><span class="hs-number">7</span><span>
</span><a name="line-122"></a><span>          </span><span class="hs-keyword">in</span><span> </span><a href="#local-6989586621680498390"><span class="hs-identifier hs-var">byte</span></a><span> </span><span class="hs-operator hs-var">:|</span><span> </span><span class="hs-identifier hs-var">toList</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621680498384"><span class="hs-identifier hs-var">doEncode</span></a><span> </span><span class="hs-identifier hs-var">False</span><span> </span><a href="#local-6989586621680498388"><span class="hs-identifier hs-var">hi</span></a><span class="hs-special">)</span><span>
</span><a name="line-123"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621680498386"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-124"></a><span>          </span><span class="hs-identifier hs-var">one</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-glyph">@</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">@</span><span class="hs-identifier hs-type">Word8</span><span> </span><a href="#local-6989586621680498386"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-125"></a><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">assert</span><span> </span><a href="#local-6989586621680498385"><span class="hs-identifier hs-var">isFirst</span></a><span> </span><span class="hs-operator hs-var">$</span><span>
</span><a name="line-126"></a><span>          </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621680498393"><a href="#local-6989586621680498393"><span class="hs-identifier">h</span></a></a><span> </span><span class="hs-operator hs-var">:|</span><span> </span><a name="local-6989586621680498394"><a href="#local-6989586621680498394"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621680498384"><span class="hs-identifier hs-var">doEncode</span></a><span> </span><span class="hs-identifier hs-var">True</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><a href="#local-6989586621680498386"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-127"></a><span>          </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier hs-var">Bits.setBit</span><span> </span><a href="#local-6989586621680498393"><span class="hs-identifier hs-var">h</span></a><span> </span><span class="hs-number">6</span><span> </span><span class="hs-operator hs-var">:|</span><span> </span><a href="#local-6989586621680498394"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-128"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-129"></a><span>        </span><a name="local-6989586621680498387"><a href="#local-6989586621680498387"><span class="hs-identifier">byteWeight</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621680498385"><span class="hs-identifier hs-var">isFirst</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-number">64</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-number">128</span><span>
</span><a name="line-130"></a><span>
</span><a name="line-131"></a><span class="hs-comment">-- | Encode an int-like value.</span><span>
</span><a name="line-132"></a><span class="hs-identifier">encodeNumeric</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Integral</span><span> </span><a href="#local-6989586621680498338"><span class="hs-identifier hs-type">i</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621680498338"><span class="hs-identifier hs-type">i</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-133"></a><a name="encodeNumeric"><a href="Michelson.Interpret.Pack.html#encodeNumeric"><span class="hs-identifier">encodeNumeric</span></a></a><span> </span><a name="local-6989586621680498395"><a href="#local-6989586621680498395"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;\x00&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeIntPayload"><span class="hs-identifier hs-var">encodeIntPayload</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><a href="#local-6989586621680498395"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-134"></a><span>
</span><a name="line-135"></a><span class="hs-comment">-- | Encode a code block.</span><span>
</span><a name="line-136"></a><span class="hs-identifier">encodeInstrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Typed.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><a href="#local-6989586621680498336"><span class="hs-identifier hs-type">inp</span></a><span> </span><a href="#local-6989586621680498337"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-137"></a><a name="encodeInstrs"><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier">encodeInstrs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeList"><span class="hs-identifier hs-var">encodeList</span></a><span> </span><span class="hs-identifier hs-var">id</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">one</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstr"><span class="hs-identifier hs-var">encodeInstr</span></a><span>
</span><a name="line-138"></a><span>
</span><a name="line-139"></a><span class="hs-comment">-- | Encode an instruction.</span><span>
</span><a name="line-140"></a><span class="hs-identifier">encodeInstr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621680498334"><a href="#local-6989586621680498334"><span class="hs-identifier">inp</span></a></a><span> </span><a name="local-6989586621680498335"><a href="#local-6989586621680498335"><span class="hs-identifier">out</span></a></a><span class="hs-operator">.</span><span> </span><a href="Michelson.Typed.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><a href="#local-6989586621680498334"><span class="hs-identifier hs-type">inp</span></a><span> </span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-141"></a><a name="encodeInstr"><a href="Michelson.Interpret.Pack.html#encodeInstr"><span class="hs-identifier">encodeInstr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-142"></a><span>  </span><a href="Michelson.Typed.Instr.html#InstrWithNotes"><span class="hs-identifier hs-var">InstrWithNotes</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621680498396"><a href="#local-6989586621680498396"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstr"><span class="hs-identifier hs-var">encodeInstr</span></a><span> </span><a href="#local-6989586621680498396"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-143"></a><span>  </span><a href="Michelson.Typed.Instr.html#Seq"><span class="hs-identifier hs-var">Seq</span></a><span> </span><a name="local-6989586621680498397"><a href="#local-6989586621680498397"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498398"><a href="#local-6989586621680498398"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-144"></a><span>    </span><a href="Michelson.Interpret.Pack.html#encodeInstr"><span class="hs-identifier hs-var">encodeInstr</span></a><span> </span><a href="#local-6989586621680498397"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstr"><span class="hs-identifier hs-var">encodeInstr</span></a><span> </span><a href="#local-6989586621680498398"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-145"></a><span>  </span><a href="Michelson.Typed.Instr.html#Nop"><span class="hs-identifier hs-var">Nop</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-146"></a><span>    </span><span class="hs-identifier hs-var">mempty</span><span>
</span><a name="line-147"></a><span>  </span><a href="Michelson.Typed.Instr.html#Nested"><span class="hs-identifier hs-var">Nested</span></a><span> </span><a name="local-6989586621680498399"><a href="#local-6989586621680498399"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-148"></a><span>    </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498399"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-149"></a><span>  </span><a href="Michelson.Typed.Instr.html#DocGroup"><span class="hs-identifier hs-var">DocGroup</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621680498400"><a href="#local-6989586621680498400"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-150"></a><span>    </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498400"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-151"></a><span>  </span><a href="Michelson.Typed.Instr.html#Ext"><span class="hs-identifier hs-var">Ext</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-152"></a><span>    </span><span class="hs-string">&quot;&quot;</span><span>
</span><a name="line-153"></a><span>  </span><a href="Michelson.Typed.Instr.html#DROP"><span class="hs-identifier hs-var">DROP</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-154"></a><span>    </span><span class="hs-string">&quot;\x03\x20&quot;</span><span>
</span><a name="line-155"></a><span>  </span><a href="Michelson.Typed.Instr.html#DUP"><span class="hs-identifier hs-var">DUP</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-156"></a><span>    </span><span class="hs-string">&quot;\x03\x21&quot;</span><span>
</span><a name="line-157"></a><span>  </span><a href="Michelson.Typed.Instr.html#SWAP"><span class="hs-identifier hs-var">SWAP</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-158"></a><span>    </span><span class="hs-string">&quot;\x03\x4c&quot;</span><span>
</span><a name="line-159"></a><span>  </span><a href="Michelson.Typed.Instr.html#PUSH"><span class="hs-identifier hs-var">PUSH</span></a><span> </span><span class="hs-special">(</span><a name="local-6989586621680498402"><a href="#local-6989586621680498402"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Typed.Aliases.html#Value"><span class="hs-identifier hs-type">Value</span></a><span> </span><a href="#local-6989586621680498401"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-160"></a><span>    </span><span class="hs-string">&quot;\x07\x43&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498401"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498402"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-161"></a><span>  </span><a href="Michelson.Typed.Instr.html#SOME"><span class="hs-identifier hs-var">SOME</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-162"></a><span>    </span><span class="hs-string">&quot;\x03\x46&quot;</span><span>
</span><a name="line-163"></a><span>  </span><a href="Michelson.Typed.Instr.html#NONE"><span class="hs-identifier hs-var">NONE</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TOption</span><span> </span><a href="#local-6989586621680498403"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498404"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-164"></a><span>    </span><span class="hs-string">&quot;\x05\x3e&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498403"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-165"></a><span>  </span><a href="Michelson.Typed.Instr.html#UNIT"><span class="hs-identifier hs-var">UNIT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-166"></a><span>    </span><span class="hs-string">&quot;\x03\x4f&quot;</span><span>
</span><a name="line-167"></a><span>  </span><a href="Michelson.Typed.Instr.html#IF_NONE"><span class="hs-identifier hs-var">IF_NONE</span></a><span> </span><a name="local-6989586621680498405"><a href="#local-6989586621680498405"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498406"><a href="#local-6989586621680498406"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-168"></a><span>    </span><span class="hs-string">&quot;\x07\x2f&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498405"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498406"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-169"></a><span>  </span><a href="Michelson.Typed.Instr.html#PAIR"><span class="hs-identifier hs-var">PAIR</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-170"></a><span>    </span><span class="hs-string">&quot;\x03\x42&quot;</span><span>
</span><a name="line-171"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Instr.html#AnnCAR"><span class="hs-identifier hs-var">AnnCAR</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-172"></a><span>    </span><span class="hs-string">&quot;\x03\x16&quot;</span><span>
</span><a name="line-173"></a><span>  </span><span class="hs-special">(</span><a href="Michelson.Typed.Instr.html#AnnCDR"><span class="hs-identifier hs-var">AnnCDR</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-174"></a><span>    </span><span class="hs-string">&quot;\x03\x17&quot;</span><span>
</span><a name="line-175"></a><span>  </span><a href="Michelson.Typed.Instr.html#LEFT"><span class="hs-identifier hs-var">LEFT</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TOr</span><span> </span><a href="#local-6989586621680498407"><span class="hs-identifier hs-type">l</span></a><span> </span><a href="#local-6989586621680498408"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498409"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-176"></a><span>    </span><span class="hs-string">&quot;\x05\x33&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498408"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-177"></a><span>  </span><a href="Michelson.Typed.Instr.html#RIGHT"><span class="hs-identifier hs-var">RIGHT</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TOr</span><span> </span><a href="#local-6989586621680498410"><span class="hs-identifier hs-type">l</span></a><span> </span><a href="#local-6989586621680498411"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498412"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-178"></a><span>    </span><span class="hs-string">&quot;\x05\x44&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498410"><span class="hs-identifier hs-type">l</span></a><span>
</span><a name="line-179"></a><span>  </span><a href="Michelson.Typed.Instr.html#IF_LEFT"><span class="hs-identifier hs-var">IF_LEFT</span></a><span> </span><a name="local-6989586621680498413"><a href="#local-6989586621680498413"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498414"><a href="#local-6989586621680498414"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-180"></a><span>    </span><span class="hs-string">&quot;\x07\x2e&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498413"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498414"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-181"></a><span>  </span><a href="Michelson.Typed.Instr.html#NIL"><span class="hs-identifier hs-var">NIL</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TList</span><span> </span><a href="#local-6989586621680498415"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498416"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-182"></a><span>    </span><span class="hs-string">&quot;\x05\x3d&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498415"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-183"></a><span>  </span><a href="Michelson.Typed.Instr.html#CONS"><span class="hs-identifier hs-var">CONS</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-184"></a><span>    </span><span class="hs-string">&quot;\x03\x1b&quot;</span><span>
</span><a name="line-185"></a><span>  </span><a href="Michelson.Typed.Instr.html#IF_CONS"><span class="hs-identifier hs-var">IF_CONS</span></a><span> </span><a name="local-6989586621680498417"><a href="#local-6989586621680498417"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498418"><a href="#local-6989586621680498418"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-186"></a><span>    </span><span class="hs-string">&quot;\x07\x2d&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498417"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498418"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-187"></a><span>  </span><a href="Michelson.Typed.Instr.html#SIZE"><span class="hs-identifier hs-var">SIZE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-188"></a><span>    </span><span class="hs-string">&quot;\x03\x45&quot;</span><span>
</span><a name="line-189"></a><span>  </span><a href="Michelson.Typed.Instr.html#EMPTY_SET"><span class="hs-identifier hs-var">EMPTY_SET</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TSet</span><span> </span><a href="#local-6989586621680498419"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498420"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-190"></a><span>    </span><span class="hs-string">&quot;\x05\x24&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#Tc"><span class="hs-identifier hs-type">Tc</span></a><span> </span><a href="#local-6989586621680498419"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-191"></a><span>  </span><a href="Michelson.Typed.Instr.html#EMPTY_MAP"><span class="hs-identifier hs-var">EMPTY_MAP</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TMap</span><span> </span><a href="#local-6989586621680498421"><span class="hs-identifier hs-type">k</span></a><span> </span><a href="#local-6989586621680498422"><span class="hs-identifier hs-type">v</span></a><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498423"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-192"></a><span>    </span><span class="hs-string">&quot;\x07\x23&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#Tc"><span class="hs-identifier hs-type">Tc</span></a><span> </span><a href="#local-6989586621680498421"><span class="hs-identifier hs-type">k</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498422"><span class="hs-identifier hs-type">v</span></a><span>
</span><a name="line-193"></a><span>  </span><a href="Michelson.Typed.Instr.html#MAP"><span class="hs-identifier hs-var">MAP</span></a><span> </span><a name="local-6989586621680498424"><a href="#local-6989586621680498424"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-194"></a><span>    </span><span class="hs-string">&quot;\x05\x38&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498424"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-195"></a><span>  </span><a href="Michelson.Typed.Instr.html#ITER"><span class="hs-identifier hs-var">ITER</span></a><span> </span><a name="local-6989586621680498425"><a href="#local-6989586621680498425"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-196"></a><span>    </span><span class="hs-string">&quot;\x05\x52&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498425"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-197"></a><span>  </span><a href="Michelson.Typed.Instr.html#MEM"><span class="hs-identifier hs-var">MEM</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-198"></a><span>    </span><span class="hs-string">&quot;\x03\x39&quot;</span><span>
</span><a name="line-199"></a><span>  </span><a href="Michelson.Typed.Instr.html#GET"><span class="hs-identifier hs-var">GET</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-200"></a><span>    </span><span class="hs-string">&quot;\x03\x29&quot;</span><span>
</span><a name="line-201"></a><span>  </span><a href="Michelson.Typed.Instr.html#UPDATE"><span class="hs-identifier hs-var">UPDATE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-202"></a><span>    </span><span class="hs-string">&quot;\x03\x50&quot;</span><span>
</span><a name="line-203"></a><span>  </span><a href="Michelson.Typed.Instr.html#IF"><span class="hs-identifier hs-var">IF</span></a><span> </span><a name="local-6989586621680498426"><a href="#local-6989586621680498426"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498427"><a href="#local-6989586621680498427"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-204"></a><span>    </span><span class="hs-string">&quot;\x07\x2c&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498426"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498427"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-205"></a><span>  </span><a href="Michelson.Typed.Instr.html#LOOP"><span class="hs-identifier hs-var">LOOP</span></a><span> </span><a name="local-6989586621680498428"><a href="#local-6989586621680498428"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-206"></a><span>    </span><span class="hs-string">&quot;\x05\x34&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498428"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-207"></a><span>  </span><a href="Michelson.Typed.Instr.html#LOOP_LEFT"><span class="hs-identifier hs-var">LOOP_LEFT</span></a><span> </span><a name="local-6989586621680498429"><a href="#local-6989586621680498429"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-208"></a><span>    </span><span class="hs-string">&quot;\x05\x53&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498429"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-209"></a><span>  </span><a href="Michelson.Typed.Instr.html#LAMBDA"><span class="hs-identifier hs-var">LAMBDA</span></a><span> </span><span class="hs-special">(</span><a name="local-6989586621680498432"><a href="#local-6989586621680498432"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Typed.Aliases.html#Value"><span class="hs-identifier hs-type">Value</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#TLambda"><span class="hs-identifier hs-type">TLambda</span></a><span> </span><a href="#local-6989586621680498430"><span class="hs-identifier hs-type">i</span></a><span> </span><a href="#local-6989586621680498431"><span class="hs-identifier hs-type">o</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-210"></a><span>    </span><span class="hs-string">&quot;\x09\x31&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span>
</span><a name="line-211"></a><span>    </span><a href="Michelson.Interpret.Pack.html#encodeAsList"><span class="hs-identifier hs-var">encodeAsList</span></a><span> </span><span class="hs-special">(</span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498430"><span class="hs-identifier hs-type">i</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498431"><span class="hs-identifier hs-type">o</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeValue"><span class="hs-identifier hs-var">encodeValue</span></a><span> </span><a href="#local-6989586621680498432"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span>
</span><a name="line-212"></a><span>    </span><a href="Michelson.Interpret.Pack.html#encodeLength"><span class="hs-identifier hs-var">encodeLength</span></a><span> </span><span class="hs-number">0</span><span>  </span><span class="hs-comment">-- @martoon: dunno where does it come from</span><span>
</span><a name="line-213"></a><span>  </span><a href="Michelson.Typed.Instr.html#EXEC"><span class="hs-identifier hs-var">EXEC</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-214"></a><span>    </span><span class="hs-string">&quot;\x03\x26&quot;</span><span>
</span><a name="line-215"></a><span>  </span><a href="Michelson.Typed.Instr.html#DIP"><span class="hs-identifier hs-var">DIP</span></a><span> </span><a name="local-6989586621680498433"><a href="#local-6989586621680498433"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-216"></a><span>    </span><span class="hs-string">&quot;\x05\x1f&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498433"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-217"></a><span>  </span><a href="Michelson.Typed.Instr.html#FAILWITH"><span class="hs-identifier hs-var">FAILWITH</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-218"></a><span>    </span><span class="hs-string">&quot;\x03\x27&quot;</span><span>
</span><a name="line-219"></a><span>  </span><a href="Michelson.Typed.Instr.html#CAST"><span class="hs-identifier hs-var">CAST</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">t</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498435"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-220"></a><span>    </span><span class="hs-string">&quot;\x05\x57&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498434"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-221"></a><span>  </span><a href="Michelson.Typed.Instr.html#RENAME"><span class="hs-identifier hs-var">RENAME</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-222"></a><span>    </span><span class="hs-string">&quot;\x03\x58&quot;</span><span>
</span><a name="line-223"></a><span>  </span><a href="Michelson.Typed.Instr.html#PACK"><span class="hs-identifier hs-var">PACK</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-224"></a><span>    </span><span class="hs-string">&quot;\x03\x0c&quot;</span><span>
</span><a name="line-225"></a><span>  </span><a href="Michelson.Typed.Instr.html#UNPACK"><span class="hs-identifier hs-var">UNPACK</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TOption</span><span> </span><a href="#local-6989586621680498436"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498437"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-226"></a><span>    </span><span class="hs-string">&quot;\x05\x0d&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498436"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-227"></a><span>  </span><a href="Michelson.Typed.Instr.html#CONCAT"><span class="hs-identifier hs-var">CONCAT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-228"></a><span>    </span><span class="hs-string">&quot;\x03\x1a&quot;</span><span>
</span><a name="line-229"></a><span>  </span><a href="Michelson.Typed.Instr.html#CONCAT%27"><span class="hs-identifier hs-var">CONCAT'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-230"></a><span>    </span><span class="hs-string">&quot;\x03\x1a&quot;</span><span>
</span><a name="line-231"></a><span>  </span><a href="Michelson.Typed.Instr.html#SLICE"><span class="hs-identifier hs-var">SLICE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-232"></a><span>    </span><span class="hs-string">&quot;\x03\x6f&quot;</span><span>
</span><a name="line-233"></a><span>  </span><a href="Michelson.Typed.Instr.html#ISNAT"><span class="hs-identifier hs-var">ISNAT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-234"></a><span>    </span><span class="hs-string">&quot;\x03\x56&quot;</span><span>
</span><a name="line-235"></a><span>  </span><a href="Michelson.Typed.Instr.html#ADD"><span class="hs-identifier hs-var">ADD</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-236"></a><span>    </span><span class="hs-string">&quot;\x03\x12&quot;</span><span>
</span><a name="line-237"></a><span>  </span><a href="Michelson.Typed.Instr.html#SUB"><span class="hs-identifier hs-var">SUB</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-238"></a><span>    </span><span class="hs-string">&quot;\x03\x4b&quot;</span><span>
</span><a name="line-239"></a><span>  </span><a href="Michelson.Typed.Instr.html#MUL"><span class="hs-identifier hs-var">MUL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-240"></a><span>    </span><span class="hs-string">&quot;\x03\x3a&quot;</span><span>
</span><a name="line-241"></a><span>  </span><a href="Michelson.Typed.Instr.html#EDIV"><span class="hs-identifier hs-var">EDIV</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-242"></a><span>    </span><span class="hs-string">&quot;\x03\x22&quot;</span><span>
</span><a name="line-243"></a><span>  </span><a href="Michelson.Typed.Instr.html#ABS"><span class="hs-identifier hs-var">ABS</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-244"></a><span>    </span><span class="hs-string">&quot;\x03\x11&quot;</span><span>
</span><a name="line-245"></a><span>  </span><a href="Michelson.Typed.Instr.html#NEG"><span class="hs-identifier hs-var">NEG</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-246"></a><span>    </span><span class="hs-string">&quot;\x03\x3b&quot;</span><span>
</span><a name="line-247"></a><span>  </span><a href="Michelson.Typed.Instr.html#LSL"><span class="hs-identifier hs-var">LSL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-248"></a><span>    </span><span class="hs-string">&quot;\x03\x35&quot;</span><span>
</span><a name="line-249"></a><span>  </span><a href="Michelson.Typed.Instr.html#LSR"><span class="hs-identifier hs-var">LSR</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-250"></a><span>    </span><span class="hs-string">&quot;\x03\x36&quot;</span><span>
</span><a name="line-251"></a><span>  </span><a href="Michelson.Typed.Instr.html#OR"><span class="hs-identifier hs-var">OR</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-252"></a><span>    </span><span class="hs-string">&quot;\x03\x41&quot;</span><span>
</span><a name="line-253"></a><span>  </span><a href="Michelson.Typed.Instr.html#AND"><span class="hs-identifier hs-var">AND</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-254"></a><span>    </span><span class="hs-string">&quot;\x03\x14&quot;</span><span>
</span><a name="line-255"></a><span>  </span><a href="Michelson.Typed.Instr.html#XOR"><span class="hs-identifier hs-var">XOR</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-256"></a><span>    </span><span class="hs-string">&quot;\x03\x51&quot;</span><span>
</span><a name="line-257"></a><span>  </span><a href="Michelson.Typed.Instr.html#NOT"><span class="hs-identifier hs-var">NOT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-258"></a><span>    </span><span class="hs-string">&quot;\x03\x3f&quot;</span><span>
</span><a name="line-259"></a><span>  </span><a href="Michelson.Typed.Instr.html#COMPARE"><span class="hs-identifier hs-var">COMPARE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-260"></a><span>    </span><span class="hs-string">&quot;\x03\x19&quot;</span><span>
</span><a name="line-261"></a><span>  </span><a href="Michelson.Typed.Instr.html#EQ"><span class="hs-identifier hs-var">EQ</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-262"></a><span>    </span><span class="hs-string">&quot;\x03\x25&quot;</span><span>
</span><a name="line-263"></a><span>  </span><a href="Michelson.Typed.Instr.html#NEQ"><span class="hs-identifier hs-var">NEQ</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-264"></a><span>    </span><span class="hs-string">&quot;\x03\x3c&quot;</span><span>
</span><a name="line-265"></a><span>  </span><a href="Michelson.Typed.Instr.html#LT"><span class="hs-identifier hs-var">LT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-266"></a><span>    </span><span class="hs-string">&quot;\x03\x37&quot;</span><span>
</span><a name="line-267"></a><span>  </span><a href="Michelson.Typed.Instr.html#GT"><span class="hs-identifier hs-var">GT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-268"></a><span>    </span><span class="hs-string">&quot;\x03\x2a&quot;</span><span>
</span><a name="line-269"></a><span>  </span><a href="Michelson.Typed.Instr.html#LE"><span class="hs-identifier hs-var">LE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-270"></a><span>    </span><span class="hs-string">&quot;\x03\x32&quot;</span><span>
</span><a name="line-271"></a><span>  </span><a href="Michelson.Typed.Instr.html#GE"><span class="hs-identifier hs-var">GE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-272"></a><span>    </span><span class="hs-string">&quot;\x03\x28&quot;</span><span>
</span><a name="line-273"></a><span>  </span><a href="Michelson.Typed.Instr.html#INT"><span class="hs-identifier hs-var">INT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-274"></a><span>    </span><span class="hs-string">&quot;\x03\x30&quot;</span><span>
</span><a name="line-275"></a><span>  </span><a href="Michelson.Typed.Instr.html#SELF"><span class="hs-identifier hs-var">SELF</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-276"></a><span>    </span><span class="hs-identifier hs-var">error</span><span> </span><span class="hs-string">&quot;SELF should not appear in lambda&quot;</span><span>
</span><a name="line-277"></a><span>  </span><a href="Michelson.Typed.Instr.html#CONTRACT"><span class="hs-identifier hs-var">CONTRACT</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Proxy</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="hs-identifier hs-type">TOption</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#TContract"><span class="hs-identifier hs-type">TContract</span></a><span> </span><a href="#local-6989586621680498438"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621680498439"><span class="hs-identifier hs-type">s</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">Proxy</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498335"><span class="hs-identifier hs-type">out</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-278"></a><span>    </span><span class="hs-string">&quot;\x05\x55&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498438"><span class="hs-identifier hs-type">t</span></a><span>
</span><a name="line-279"></a><span>  </span><a href="Michelson.Typed.Instr.html#TRANSFER_TOKENS"><span class="hs-identifier hs-var">TRANSFER_TOKENS</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-280"></a><span>    </span><span class="hs-string">&quot;\x03\x4d&quot;</span><span>
</span><a name="line-281"></a><span>  </span><a href="Michelson.Typed.Instr.html#SET_DELEGATE"><span class="hs-identifier hs-var">SET_DELEGATE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-282"></a><span>    </span><span class="hs-string">&quot;\x03\x4e&quot;</span><span>
</span><a name="line-283"></a><span>  </span><a href="Michelson.Typed.Instr.html#CREATE_ACCOUNT"><span class="hs-identifier hs-var">CREATE_ACCOUNT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-284"></a><span>    </span><span class="hs-string">&quot;\x03\x1c&quot;</span><span>
</span><a name="line-285"></a><span>  </span><a href="Michelson.Typed.Instr.html#CREATE_CONTRACT"><span class="hs-identifier hs-var">CREATE_CONTRACT</span></a><span> </span><span class="hs-special">(</span><a name="local-6989586621680498442"><a href="#local-6989586621680498442"><span class="hs-identifier">instr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Typed.Instr.html#Instr"><span class="hs-identifier hs-type">Instr</span></a><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#TPair"><span class="hs-identifier hs-type">TPair</span></a><span> </span><a href="#local-6989586621680498440"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621680498441"><span class="hs-identifier hs-type">g</span></a><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#TPair"><span class="hs-identifier hs-type">TPair</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#TList"><span class="hs-identifier hs-type">TList</span></a><span> </span><span class="hs-special">'</span><a href="Michelson.Typed.T.html#TOperation"><span class="hs-identifier hs-type">TOperation</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621680498441"><span class="hs-identifier hs-type">g</span></a><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-286"></a><span>    </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621680498443"><a href="#local-6989586621680498443"><span class="hs-identifier">contents</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-287"></a><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-string">&quot;\x05\x00&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498440"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-288"></a><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;\x05\x01&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier hs-var">encodeT'</span></a><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498441"><span class="hs-identifier hs-type">g</span></a><span>
</span><a name="line-289"></a><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;\x05\x02&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeInstrs"><span class="hs-identifier hs-var">encodeInstrs</span></a><span> </span><a href="#local-6989586621680498442"><span class="hs-identifier hs-var">instr</span></a><span>
</span><a name="line-290"></a><span>          </span><span class="hs-special">]</span><span>
</span><a name="line-291"></a><span>    </span><span class="hs-comment">-- TODO [TM-96] These ^ should be encoded in the same order in which</span><span>
</span><a name="line-292"></a><span>    </span><span class="hs-comment">-- they appear in the original code</span><span>
</span><a name="line-293"></a><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-string">&quot;\x05\x1d&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeList"><span class="hs-identifier hs-var">encodeList</span></a><span> </span><span class="hs-identifier hs-var">id</span><span> </span><a href="#local-6989586621680498443"><span class="hs-identifier hs-var">contents</span></a><span>
</span><a name="line-294"></a><span>  </span><a href="Michelson.Typed.Instr.html#IMPLICIT_ACCOUNT"><span class="hs-identifier hs-var">IMPLICIT_ACCOUNT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-295"></a><span>   </span><span class="hs-string">&quot;\x03\x1e&quot;</span><span>
</span><a name="line-296"></a><span>  </span><a href="Michelson.Typed.Instr.html#NOW"><span class="hs-identifier hs-var">NOW</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-297"></a><span>   </span><span class="hs-string">&quot;\x03\x40&quot;</span><span>
</span><a name="line-298"></a><span>  </span><a href="Michelson.Typed.Instr.html#AMOUNT"><span class="hs-identifier hs-var">AMOUNT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-299"></a><span>   </span><span class="hs-string">&quot;\x03\x13&quot;</span><span>
</span><a name="line-300"></a><span>  </span><a href="Michelson.Typed.Instr.html#BALANCE"><span class="hs-identifier hs-var">BALANCE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-301"></a><span>   </span><span class="hs-string">&quot;\x03\x15&quot;</span><span>
</span><a name="line-302"></a><span>  </span><a href="Michelson.Typed.Instr.html#CHECK_SIGNATURE"><span class="hs-identifier hs-var">CHECK_SIGNATURE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-303"></a><span>   </span><span class="hs-string">&quot;\x03\x18&quot;</span><span>
</span><a name="line-304"></a><span>  </span><a href="Michelson.Typed.Instr.html#SHA256"><span class="hs-identifier hs-var">SHA256</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-305"></a><span>   </span><span class="hs-string">&quot;\x03\x0f&quot;</span><span>
</span><a name="line-306"></a><span>  </span><a href="Michelson.Typed.Instr.html#SHA512"><span class="hs-identifier hs-var">SHA512</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-307"></a><span>   </span><span class="hs-string">&quot;\x03\x10&quot;</span><span>
</span><a name="line-308"></a><span>  </span><a href="Michelson.Typed.Instr.html#BLAKE2B"><span class="hs-identifier hs-var">BLAKE2B</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-309"></a><span>   </span><span class="hs-string">&quot;\x03\x0e&quot;</span><span>
</span><a name="line-310"></a><span>  </span><a href="Michelson.Typed.Instr.html#HASH_KEY"><span class="hs-identifier hs-var">HASH_KEY</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-311"></a><span>   </span><span class="hs-string">&quot;\x03\x2b&quot;</span><span>
</span><a name="line-312"></a><span>  </span><a href="Michelson.Typed.Instr.html#STEPS_TO_QUOTA"><span class="hs-identifier hs-var">STEPS_TO_QUOTA</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-313"></a><span>   </span><span class="hs-string">&quot;\x03\x4a&quot;</span><span>
</span><a name="line-314"></a><span>  </span><a href="Michelson.Typed.Instr.html#SOURCE"><span class="hs-identifier hs-var">SOURCE</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-315"></a><span>   </span><span class="hs-string">&quot;\x03\x47&quot;</span><span>
</span><a name="line-316"></a><span>  </span><a href="Michelson.Typed.Instr.html#SENDER"><span class="hs-identifier hs-var">SENDER</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-317"></a><span>   </span><span class="hs-string">&quot;\x03\x48&quot;</span><span>
</span><a name="line-318"></a><span>  </span><a href="Michelson.Typed.Instr.html#ADDRESS"><span class="hs-identifier hs-var">ADDRESS</span></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-319"></a><span>   </span><span class="hs-string">&quot;\x03\x54&quot;</span><span>
</span><a name="line-320"></a><span>
</span><a name="line-321"></a><span class="hs-identifier">encodeT</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Typed.T.html#T"><span class="hs-identifier hs-type">T</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-322"></a><a name="encodeT"><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier">encodeT</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-323"></a><span>  </span><a href="Michelson.Typed.T.html#Tc"><span class="hs-identifier hs-var">Tc</span></a><span> </span><a name="local-6989586621680498444"><a href="#local-6989586621680498444"><span class="hs-identifier">ct</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeCT"><span class="hs-identifier hs-var">encodeCT</span></a><span> </span><a href="#local-6989586621680498444"><span class="hs-identifier hs-var">ct</span></a><span>
</span><a name="line-324"></a><span>  </span><a href="Michelson.Typed.T.html#TKey"><span class="hs-identifier hs-var">TKey</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x5c&quot;</span><span>
</span><a name="line-325"></a><span>  </span><a href="Michelson.Typed.T.html#TUnit"><span class="hs-identifier hs-var">TUnit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x6c&quot;</span><span>
</span><a name="line-326"></a><span>  </span><a href="Michelson.Typed.T.html#TSignature"><span class="hs-identifier hs-var">TSignature</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x67&quot;</span><span>
</span><a name="line-327"></a><span>  </span><a href="Michelson.Typed.T.html#TOption"><span class="hs-identifier hs-var">TOption</span></a><span> </span><a name="local-6989586621680498445"><a href="#local-6989586621680498445"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x05\x63&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498445"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-328"></a><span>  </span><a href="Michelson.Typed.T.html#TList"><span class="hs-identifier hs-var">TList</span></a><span> </span><a name="local-6989586621680498446"><a href="#local-6989586621680498446"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x05\x5f&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498446"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-329"></a><span>  </span><a href="Michelson.Typed.T.html#TSet"><span class="hs-identifier hs-var">TSet</span></a><span> </span><a name="local-6989586621680498447"><a href="#local-6989586621680498447"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x05\x66&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeCT"><span class="hs-identifier hs-var">encodeCT</span></a><span> </span><a href="#local-6989586621680498447"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-330"></a><span>  </span><a href="Michelson.Typed.T.html#TOperation"><span class="hs-identifier hs-var">TOperation</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x03\x6d&quot;</span><span>
</span><a name="line-331"></a><span>  </span><a href="Michelson.Typed.T.html#TContract"><span class="hs-identifier hs-var">TContract</span></a><span> </span><a name="local-6989586621680498448"><a href="#local-6989586621680498448"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x05\x5a&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498448"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-332"></a><span>  </span><a href="Michelson.Typed.T.html#TPair"><span class="hs-identifier hs-var">TPair</span></a><span> </span><a name="local-6989586621680498449"><a href="#local-6989586621680498449"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498450"><a href="#local-6989586621680498450"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x07\x65&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498449"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498450"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-333"></a><span>  </span><a href="Michelson.Typed.T.html#TOr"><span class="hs-identifier hs-var">TOr</span></a><span> </span><a name="local-6989586621680498451"><a href="#local-6989586621680498451"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498452"><a href="#local-6989586621680498452"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x07\x64&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498451"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498452"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-334"></a><span>  </span><a href="Michelson.Typed.T.html#TLambda"><span class="hs-identifier hs-var">TLambda</span></a><span> </span><a name="local-6989586621680498453"><a href="#local-6989586621680498453"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621680498454"><a href="#local-6989586621680498454"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x07\x5e&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498453"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498454"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-335"></a><span>  </span><a href="Michelson.Typed.T.html#TMap"><span class="hs-identifier hs-var">TMap</span></a><span> </span><a name="local-6989586621680498455"><a href="#local-6989586621680498455"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621680498456"><a href="#local-6989586621680498456"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x07\x60&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeCT"><span class="hs-identifier hs-var">encodeCT</span></a><span> </span><a href="#local-6989586621680498455"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498456"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-336"></a><span>  </span><a href="Michelson.Typed.T.html#TBigMap"><span class="hs-identifier hs-var">TBigMap</span></a><span> </span><a name="local-6989586621680498457"><a href="#local-6989586621680498457"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621680498458"><a href="#local-6989586621680498458"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x07\x61&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeCT"><span class="hs-identifier hs-var">encodeCT</span></a><span> </span><a href="#local-6989586621680498457"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><a href="#local-6989586621680498458"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-337"></a><span>
</span><a name="line-338"></a><span class="hs-identifier">encodeT'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><a name="local-6989586621680498333"><a href="#local-6989586621680498333"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Typed.T.html#T"><span class="hs-identifier hs-type">T</span></a><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="hs-identifier hs-type">SingI</span><span> </span><a href="#local-6989586621680498333"><span class="hs-identifier hs-type">t</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-339"></a><a name="encodeT%27"><a href="Michelson.Interpret.Pack.html#encodeT%27"><span class="hs-identifier">encodeT'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Michelson.Interpret.Pack.html#encodeT"><span class="hs-identifier hs-var">encodeT</span></a><span> </span><span class="hs-special">(</span><a href="Michelson.Typed.Sing.html#fromSingT"><span class="hs-identifier hs-var">fromSingT</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">sing</span><span> </span><span class="hs-glyph">@</span><a href="#local-6989586621680498333"><span class="hs-identifier hs-type">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-340"></a><span>
</span><a name="line-341"></a><span class="hs-identifier">encodeCT</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Michelson.Untyped.Type.html#CT"><span class="hs-identifier hs-type">CT</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">LByteString</span><span>
</span><a name="line-342"></a><a name="encodeCT"><a href="Michelson.Interpret.Pack.html#encodeCT"><span class="hs-identifier">encodeCT</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;\x03&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-343"></a><span>  </span><a href="Michelson.Untyped.Type.html#CInt"><span class="hs-identifier hs-var">CInt</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x5b&quot;</span><span>
</span><a name="line-344"></a><span>  </span><a href="Michelson.Untyped.Type.html#CNat"><span class="hs-identifier hs-var">CNat</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x62&quot;</span><span>
</span><a name="line-345"></a><span>  </span><a href="Michelson.Untyped.Type.html#CString"><span class="hs-identifier hs-var">CString</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x68&quot;</span><span>
</span><a name="line-346"></a><span>  </span><a href="Michelson.Untyped.Type.html#CBytes"><span class="hs-identifier hs-var">CBytes</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x69&quot;</span><span>
</span><a name="line-347"></a><span>  </span><a href="Michelson.Untyped.Type.html#CMutez"><span class="hs-identifier hs-var">CMutez</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x6a&quot;</span><span>
</span><a name="line-348"></a><span>  </span><a href="Michelson.Untyped.Type.html#CBool"><span class="hs-identifier hs-var">CBool</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x59&quot;</span><span>
</span><a name="line-349"></a><span>  </span><a href="Michelson.Untyped.Type.html#CKeyHash"><span class="hs-identifier hs-var">CKeyHash</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x5d&quot;</span><span>
</span><a name="line-350"></a><span>  </span><a href="Michelson.Untyped.Type.html#CTimestamp"><span class="hs-identifier hs-var">CTimestamp</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x6b&quot;</span><span>
</span><a name="line-351"></a><span>  </span><a href="Michelson.Untyped.Type.html#CAddress"><span class="hs-identifier hs-var">CAddress</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;\x6e&quot;</span><span>
</span><a name="line-352"></a></pre></body></html>