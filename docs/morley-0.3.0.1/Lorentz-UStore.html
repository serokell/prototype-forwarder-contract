<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lorentz.UStore</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lorentz.UStore.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">morley-0.3.0.1: Developer tools for the Michelson Language</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lorentz.UStore</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">UStore and related type definitions</a><ul><li><a href="#g:2">Type-lookup-by-name</a></li><li><a href="#g:3">Instructions</a></li><li><a href="#g:4">Instruction constraints</a></li></ul></li><li><a href="#g:5">UStore composability</a></li><li><a href="#g:6">UStore management from Haskell</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains implementation of <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code>.</p><p><code>UStore</code> is essentially <code><a href="Lorentz-Store.html#v:Store" title="Lorentz.Store">Store</a></code> modified for the sake of
upgradeability.</p><p>In API it differs from <code>Store</code> in the following ways:
1. It keeps both virtual <code>big_map</code>s and plain fields;
2. Neat conversion between Michelson and Haskell values
is implemented;
3. Regarding composabililty, one can operate with one <code>UStore</code>
and then lift it to a bigger one which includes the former.
This allows for simpler management of stores and clearer error messages.
In spite of this, operations with <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code>s over deeply nested templates will
still work as before.</p><p>We represent <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> as <code>big_map bytes bytes</code>.</p><ul><li>Plain fields are stored as
<code>key = pack fieldName; value = pack originalValue</code>.</li><li>Virtual <code>big_map</code>s are kept as
<code>key = pack (bigMapName, originalKey); value = pack originalValue</code>.</li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:UStore">UStore</a> a</li><li class="src short"><span class="keyword">newtype</span> k <a href="#t:-124--126--62-">|~&gt;</a> v = <a href="#v:UStoreSubMap">UStoreSubMap</a> {<ul class="subs"><li><a href="#v:unUStoreSubMap">unUStoreSubMap</a> :: <a href="Lorentz-Value.html#t:Map" title="Lorentz.Value">Map</a> k v</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:UStoreField">UStoreField</a> v = <a href="#v:UStoreField">UStoreField</a> {<ul class="subs"><li><a href="#v:unUStoreField">unUStoreField</a> :: v</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:GetUStoreKey">GetUStoreKey</a> store name = <a href="Lorentz-UStore-Types.html#t:MSKey" title="Lorentz.UStore.Types">MSKey</a> (<a href="Lorentz-UStore-Types.html#t:GetUStore" title="Lorentz.UStore.Types">GetUStore</a> name store)</li><li class="src short"><span class="keyword">type</span> <a href="#t:GetUStoreValue">GetUStoreValue</a> store name = <a href="Lorentz-UStore-Types.html#t:MSValue" title="Lorentz.UStore.Types">MSValue</a> (<a href="Lorentz-UStore-Types.html#t:GetUStore" title="Lorentz.UStore.Types">GetUStore</a> name store)</li><li class="src short"><span class="keyword">type</span> <a href="#t:GetUStoreField">GetUStoreField</a> store name = <a href="Lorentz-UStore-Types.html#t:FSValue" title="Lorentz.UStore.Types">FSValue</a> (<a href="Lorentz-UStore-Types.html#t:GetUStore" title="Lorentz.UStore.Types">GetUStore</a> name store)</li><li class="src short"><a href="#v:ustoreMem">ustoreMem</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s)</li><li class="src short"><a href="#v:ustoreGet">ustoreGet</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name) ': s)</li><li class="src short"><a href="#v:ustoreUpdate">ustoreUpdate</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name) ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreInsert">ustoreInsert</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreInsertNew">ustoreInsertNew</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<span class="keyword">forall</span> s0 any. (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': s0) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> any) -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreDelete">ustoreDelete</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)</li><li class="src short"><a href="#v:ustoreToField">ustoreToField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ': s)</li><li class="src short"><a href="#v:ustoreGetField">ustoreGetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s))</li><li class="src short"><a href="#v:ustoreSetField">ustoreSetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasUStore">HasUStore</a> name key value store = (KeyAccessC store name, ValueAccessC store name, <a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ~ key, <a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name ~ value)</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasUField">HasUField</a> name ty store = (FieldAccessC store name, <a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ~ ty)</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasUStoreForAllIn">HasUStoreForAllIn</a> store constrained = (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> store, GHasStoreForAllIn constrained (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> store))</li><li class="src short"><a href="#v:liftUStore">liftUStore</a> :: (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, RequireAllUniqueFields template) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> (<a href="Michelson-Typed-Haskell-Instr-Product.html#t:GetFieldType" title="Michelson.Typed.Haskell.Instr.Product">GetFieldType</a> template name) ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template ': s)</li><li class="src short"><a href="#v:unliftUStore">unliftUStore</a> :: <a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> (<a href="Michelson-Typed-Haskell-Instr-Product.html#t:GetFieldType" title="Michelson.Typed.Haskell.Instr.Product">GetFieldType</a> template name) ': s)</li><li class="src short"><span class="keyword">class</span> GUStoreConversible (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> template) =&gt; <a href="#t:UStoreConversible">UStoreConversible</a> template</li><li class="src short"><a href="#v:mkUStore">mkUStore</a> :: (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, <a href="Lorentz-UStore.html#t:UStoreConversible" title="Lorentz.UStore">UStoreConversible</a> template) =&gt; template -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template</li><li class="src short"><a href="#v:ustoreDecompose">ustoreDecompose</a> :: <span class="keyword">forall</span> template. (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, <a href="Lorentz-UStore.html#t:UStoreConversible" title="Lorentz.UStore">UStoreConversible</a> template) =&gt; <a href="Michelson-Interpret-Unpack.html#t:UnpackEnv" title="Michelson.Interpret.Unpack">UnpackEnv</a> -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> (<a href="Lorentz-UStore-Haskell.html#t:UStoreContent" title="Lorentz.UStore.Haskell">UStoreContent</a>, template)</li><li class="src short"><a href="#v:ustoreDecomposeFull">ustoreDecomposeFull</a> :: <span class="keyword">forall</span> template. (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, <a href="Lorentz-UStore.html#t:UStoreConversible" title="Lorentz.UStore">UStoreConversible</a> template) =&gt; <a href="Michelson-Interpret-Unpack.html#t:UnpackEnv" title="Michelson.Interpret.Unpack">UnpackEnv</a> -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> template</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>UStore and related type definitions</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UStore" class="def">UStore</a> a <a href="src/Lorentz.UStore.Types.html#UStore" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></p><div class="doc"><p>Gathers multple fields and <code><a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a></code>s under one object.</p><p>Type argument of this datatype stands for a &quot;store template&quot; -
 a datatype with one constructor and multiple fields, each containing
 an object of type <code><a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a></code> or <code><a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a></code> and corresponding to single
 virtual field or <code><a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a></code> respectively.
 It's also possible to parameterize it with a larger type which is
 a product of types satisfying the above property.</p><p>Inside it keeps only one <code><a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a></code> thus not violating Michelson limitations.</p></div><div class="subs instances"><details id="i:UStore" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:Eq:1"></span> <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-45" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-45" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:Semigroup:3"></span> <a href="Lorentz-Prelude.html#t:Semigroup" title="Lorentz.Prelude">Semigroup</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-46" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:Semigroup:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:Monoid:4"></span> <a href="Lorentz-Prelude.html#t:Monoid" title="Lorentz.Prelude">Monoid</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-46" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:Monoid:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a] -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:Default:5"></span> <a href="Util-Default.html#t:Default" title="Util.Default">Default</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-46" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:Default:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="#v:def" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:IsoValue:6"></span> <a href="Michelson-Typed-Haskell-Value.html#t:IsoValue" title="Michelson.Typed.Haskell.Value">IsoValue</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-46" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:IsoValue:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Michelson-Typed-Haskell-Value.html#t:ToT" title="Michelson.Typed.Haskell.Value">ToT</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) :: <a href="Michelson-Typed-T.html#t:T" title="Michelson.Typed.T">T</a> <a href="src/Michelson.Typed.Haskell.Value.html#ToT" class="link">Source</a> <a href="#t:ToT" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toVal">toVal</a> :: <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a -&gt; <a href="Michelson-Typed-Aliases.html#t:Value" title="Michelson.Typed.Aliases">Value</a> (<a href="Michelson-Typed-Haskell-Value.html#t:ToT" title="Michelson.Typed.Haskell.Value">ToT</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)) <a href="src/Michelson.Typed.Haskell.Value.html#toVal" class="link">Source</a> <a href="#v:toVal" class="selflink">#</a></p><p class="src"><a href="#v:fromVal">fromVal</a> :: <a href="Michelson-Typed-Aliases.html#t:Value" title="Michelson.Typed.Aliases">Value</a> (<a href="Michelson-Typed-Haskell-Value.html#t:ToT" title="Michelson.Typed.Haskell.Value">ToT</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)) -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a <a href="src/Michelson.Typed.Haskell.Value.html#fromVal" class="link">Source</a> <a href="#v:fromVal" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:GetOpHs:7"></span> <a href="Lorentz-Polymorphic.html#t:GetOpHs" title="Lorentz.Polymorphic">GetOpHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:GetOpHs:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:GetOpKeyHs" title="Lorentz.Polymorphic">GetOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Lorentz.Polymorphic.html#GetOpKeyHs" class="link">Source</a> <a href="#t:GetOpKeyHs" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:GetOpValHs" title="Lorentz.Polymorphic">GetOpValHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Lorentz.Polymorphic.html#GetOpValHs" class="link">Source</a> <a href="#t:GetOpValHs" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:UpdOpHs:8"></span> <a href="Lorentz-Polymorphic.html#t:UpdOpHs" title="Lorentz.Polymorphic">UpdOpHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:UpdOpHs:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:UpdOpKeyHs" title="Lorentz.Polymorphic">UpdOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Lorentz.Polymorphic.html#UpdOpKeyHs" class="link">Source</a> <a href="#t:UpdOpKeyHs" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:UpdOpParamsHs" title="Lorentz.Polymorphic">UpdOpParamsHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Lorentz.Polymorphic.html#UpdOpParamsHs" class="link">Source</a> <a href="#t:UpdOpParamsHs" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:MemOpHs:9"></span> <a href="Lorentz-Polymorphic.html#t:MemOpHs" title="Lorentz.Polymorphic">MemOpHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:MemOpHs:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:MemOpKeyHs" title="Lorentz.Polymorphic">MemOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) :: <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Lorentz.Polymorphic.html#MemOpKeyHs" class="link">Source</a> <a href="#t:MemOpKeyHs" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:ToT:10"></span> <span class="keyword">type</span> <a href="Michelson-Typed-Haskell-Value.html#t:ToT" title="Michelson.Typed.Haskell.Value">ToT</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-46" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:ToT:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="src"><span class="keyword">type</span> <a href="Michelson-Typed-Haskell-Value.html#t:ToT" title="Michelson.Typed.Haskell.Value">ToT</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) = <a href="Michelson-Typed-Haskell-Value.html#t:ToT" title="Michelson.Typed.Haskell.Value">ToT</a> (<a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:GetOpKeyHs:11"></span> <span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:GetOpKeyHs" title="Lorentz.Polymorphic">GetOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:GetOpKeyHs:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:GetOpKeyHs" title="Lorentz.Polymorphic">GetOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) = <a href="Lorentz-Polymorphic.html#t:GetOpKeyHs" title="Lorentz.Polymorphic">GetOpKeyHs</a> (<a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:GetOpValHs:12"></span> <span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:GetOpValHs" title="Lorentz.Polymorphic">GetOpValHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:GetOpValHs:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:GetOpValHs" title="Lorentz.Polymorphic">GetOpValHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) = <a href="Lorentz-Polymorphic.html#t:GetOpValHs" title="Lorentz.Polymorphic">GetOpValHs</a> (<a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:UpdOpKeyHs:13"></span> <span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:UpdOpKeyHs" title="Lorentz.Polymorphic">UpdOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:UpdOpKeyHs:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:UpdOpKeyHs" title="Lorentz.Polymorphic">UpdOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) = <a href="Lorentz-Polymorphic.html#t:UpdOpKeyHs" title="Lorentz.Polymorphic">UpdOpKeyHs</a> (<a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:UpdOpParamsHs:14"></span> <span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:UpdOpParamsHs" title="Lorentz.Polymorphic">UpdOpParamsHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:UpdOpParamsHs:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:UpdOpParamsHs" title="Lorentz.Polymorphic">UpdOpParamsHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) = <a href="Lorentz-Polymorphic.html#t:UpdOpParamsHs" title="Lorentz.Polymorphic">UpdOpParamsHs</a> (<a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStore:MemOpKeyHs:15"></span> <span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:MemOpKeyHs" title="Lorentz.Polymorphic">MemOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a)</span> <a href="src/Lorentz.UStore.Types.html#line-47" class="link">Source</a> <a href="#t:UStore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStore:MemOpKeyHs:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="src"><span class="keyword">type</span> <a href="Lorentz-Polymorphic.html#t:MemOpKeyHs" title="Lorentz.Polymorphic">MemOpKeyHs</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> a) = <a href="Lorentz-Polymorphic.html#t:MemOpKeyHs" title="Lorentz.Polymorphic">MemOpKeyHs</a> (<a href="Michelson-Typed-Haskell-Value.html#t:BigMap" title="Michelson.Typed.Haskell.Value">BigMap</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a> <a href="Lorentz-Value.html#t:ByteString" title="Lorentz.Value">ByteString</a>)</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> k <a id="t:-124--126--62-" class="def">|~&gt;</a> v <a href="src/Lorentz.UStore.Types.html#%7C~%3E" class="link">Source</a> <a href="#t:-124--126--62-" class="selflink">#</a></p><div class="doc"><p>Describes one virtual big map in the storage.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UStoreSubMap" class="def">UStoreSubMap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unUStoreSubMap" class="def">unUStoreSubMap</a> :: <a href="Lorentz-Value.html#t:Map" title="Lorentz.Value">Map</a> k v</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:-124--126--62-" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:-124--126--62-:Eq:1"></span> (<a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> k, <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> v) =&gt; <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v)</span> <a href="src/Lorentz.UStore.Types.html#line-51" class="link">Source</a> <a href="#t:-124--126--62-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:-124--126--62-:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) -&gt; (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) -&gt; (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:-124--126--62-:Show:2"></span> (<a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> k, <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v) =&gt; <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v)</span> <a href="src/Lorentz.UStore.Types.html#line-51" class="link">Source</a> <a href="#t:-124--126--62-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:-124--126--62-:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:-124--126--62-:Arbitrary:3"></span> (<a href="Lorentz-Prelude.html#t:Ord" title="Lorentz.Prelude">Ord</a> k, <a href="../QuickCheck-2.12.6.1/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> k, <a href="../QuickCheck-2.12.6.1/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> v) =&gt; <a href="../QuickCheck-2.12.6.1/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v)</span> <a href="src/Util.Test.Arbitrary.html#line-248" class="link">Source</a> <a href="#t:Arbitrary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:-124--126--62-:Arbitrary:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Util-Test-Arbitrary.html">Util.Test.Arbitrary</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:arbitrary">arbitrary</a> :: <a href="../QuickCheck-2.12.6.1/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) <a href="#v:arbitrary" class="selflink">#</a></p><p class="src"><a href="#v:shrink">shrink</a> :: (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v) -&gt; [k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v] <a href="#v:shrink" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:-124--126--62-:Default:4"></span> <a href="Util-Default.html#t:Default" title="Util.Default">Default</a> (k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v)</span> <a href="src/Lorentz.UStore.Types.html#line-52" class="link">Source</a> <a href="#t:-124--126--62-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:-124--126--62-:Default:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: k <a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a> v <a href="#v:def" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:UStoreField" class="def">UStoreField</a> v <a href="src/Lorentz.UStore.Types.html#UStoreField" class="link">Source</a> <a href="#t:UStoreField" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UStoreField" class="def">UStoreField</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unUStoreField" class="def">unUStoreField</a> :: v</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:UStoreField" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStoreField:Eq:1"></span> <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> v =&gt; <a href="Lorentz-Prelude.html#t:Eq" title="Lorentz.Prelude">Eq</a> (<a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v)</span> <a href="src/Lorentz.UStore.Types.html#line-55" class="link">Source</a> <a href="#t:UStoreField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStoreField:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v -&gt; <a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v -&gt; <a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v -&gt; <a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStoreField:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> v =&gt; <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v)</span> <a href="src/Lorentz.UStore.Types.html#line-55" class="link">Source</a> <a href="#t:UStoreField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStoreField:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Types.html">Lorentz.UStore.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UStoreField:Arbitrary:3"></span> <a href="../QuickCheck-2.12.6.1/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> v =&gt; <a href="../QuickCheck-2.12.6.1/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> (<a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v)</span> <a href="src/Util.Test.Arbitrary.html#line-252" class="link">Source</a> <a href="#t:Arbitrary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UStoreField:Arbitrary:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Util-Test-Arbitrary.html">Util.Test.Arbitrary</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:arbitrary">arbitrary</a> :: <a href="../QuickCheck-2.12.6.1/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v) <a href="#v:arbitrary" class="selflink">#</a></p><p class="src"><a href="#v:shrink">shrink</a> :: <a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v -&gt; [<a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a> v] <a href="#v:shrink" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h2>Type-lookup-by-name</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:GetUStoreKey" class="def">GetUStoreKey</a> store name = <a href="Lorentz-UStore-Types.html#t:MSKey" title="Lorentz.UStore.Types">MSKey</a> (<a href="Lorentz-UStore-Types.html#t:GetUStore" title="Lorentz.UStore.Types">GetUStore</a> name store) <a href="src/Lorentz.UStore.Types.html#GetUStoreKey" class="link">Source</a> <a href="#t:GetUStoreKey" class="selflink">#</a></p><div class="doc"><p>Get type of submap key.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:GetUStoreValue" class="def">GetUStoreValue</a> store name = <a href="Lorentz-UStore-Types.html#t:MSValue" title="Lorentz.UStore.Types">MSValue</a> (<a href="Lorentz-UStore-Types.html#t:GetUStore" title="Lorentz.UStore.Types">GetUStore</a> name store) <a href="src/Lorentz.UStore.Types.html#GetUStoreValue" class="link">Source</a> <a href="#t:GetUStoreValue" class="selflink">#</a></p><div class="doc"><p>Get type of submap value.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:GetUStoreField" class="def">GetUStoreField</a> store name = <a href="Lorentz-UStore-Types.html#t:FSValue" title="Lorentz.UStore.Types">FSValue</a> (<a href="Lorentz-UStore-Types.html#t:GetUStore" title="Lorentz.UStore.Types">GetUStore</a> name store) <a href="src/Lorentz.UStore.Types.html#GetUStoreField" class="link">Source</a> <a href="#t:GetUStoreField" class="selflink">#</a></p><div class="doc"><p>Get type of plain field.</p></div></div><a href="#g:3" id="g:3"><h2>Instructions</h2></a><div class="top"><p class="src"><a id="v:ustoreMem" class="def">ustoreMem</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Value.html#t:Bool" title="Lorentz.Value">Bool</a> ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreMem" class="link">Source</a> <a href="#v:ustoreMem" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreGet" class="def">ustoreGet</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name) ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreGet" class="link">Source</a> <a href="#v:ustoreGet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreUpdate" class="def">ustoreUpdate</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-Prelude.html#t:Maybe" title="Lorentz.Prelude">Maybe</a> (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name) ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreUpdate" class="link">Source</a> <a href="#v:ustoreUpdate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreInsert" class="def">ustoreInsert</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreInsert" class="link">Source</a> <a href="#v:ustoreInsert" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreInsertNew" class="def">ustoreInsertNew</a> :: <span class="keyword">forall</span> store name s. (KeyAccessC store name, ValueAccessC store name) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<span class="keyword">forall</span> s0 any. (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': s0) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> any) -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s))) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreInsertNew" class="link">Source</a> <a href="#v:ustoreInsertNew" class="selflink">#</a></p><div class="doc"><p>Insert a key-value pair, but fail if it will overwrite some existing entry.</p></div></div><div class="top"><p class="src"><a id="v:ustoreDelete" class="def">ustoreDelete</a> :: <span class="keyword">forall</span> store name s. KeyAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreDelete" class="link">Source</a> <a href="#v:ustoreDelete" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ustoreToField" class="def">ustoreToField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreToField" class="link">Source</a> <a href="#v:ustoreToField" class="selflink">#</a></p><div class="doc"><p>Like <code>toField</code>, but for <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code>.</p><p>This may fail only if <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> was made up incorrectly during contract
 initialization.</p></div></div><div class="top"><p class="src"><a id="v:ustoreGetField" class="def">ustoreGetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="src/Lorentz.UStore.Instr.html#ustoreGetField" class="link">Source</a> <a href="#v:ustoreGetField" class="selflink">#</a></p><div class="doc"><p>Like <code>getField</code>, but for <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code>.</p><p>This may fail only if <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> was made up incorrectly during contract
 initialization.</p></div></div><div class="top"><p class="src"><a id="v:ustoreSetField" class="def">ustoreSetField</a> :: <span class="keyword">forall</span> store name s. FieldAccessC store name =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ': (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s)) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> store ': s) <a href="src/Lorentz.UStore.Instr.html#ustoreSetField" class="link">Source</a> <a href="#v:ustoreSetField" class="selflink">#</a></p><div class="doc"><p>Like <code>setField</code>, but for <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code>.</p></div></div><a href="#g:4" id="g:4"><h2>Instruction constraints</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasUStore" class="def">HasUStore</a> name key value store = (KeyAccessC store name, ValueAccessC store name, <a href="Lorentz-UStore.html#t:GetUStoreKey" title="Lorentz.UStore">GetUStoreKey</a> store name ~ key, <a href="Lorentz-UStore.html#t:GetUStoreValue" title="Lorentz.UStore">GetUStoreValue</a> store name ~ value) <a href="src/Lorentz.UStore.Instr.html#HasUStore" class="link">Source</a> <a href="#t:HasUStore" class="selflink">#</a></p><div class="doc"><p>This constraint can be used if a function needs to work with
 <em>big</em> store, but needs to know only about some submap(s) of it.</p><p>It can use all UStore operations for a particular name, key and
 value without knowing whole template.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasUField" class="def">HasUField</a> name ty store = (FieldAccessC store name, <a href="Lorentz-UStore.html#t:GetUStoreField" title="Lorentz.UStore">GetUStoreField</a> store name ~ ty) <a href="src/Lorentz.UStore.Instr.html#HasUField" class="link">Source</a> <a href="#t:HasUField" class="selflink">#</a></p><div class="doc"><p>This constraint can be used if a function needs to work with
 <em>big</em> store, but needs to know only about some field of it.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasUStoreForAllIn" class="def">HasUStoreForAllIn</a> store constrained = (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> store, GHasStoreForAllIn constrained (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> store)) <a href="src/Lorentz.UStore.Instr.html#HasUStoreForAllIn" class="link">Source</a> <a href="#t:HasUStoreForAllIn" class="selflink">#</a></p><div class="doc"><p>Write down all sensisble constraints which given <code>store</code> satisfies
 and apply them to <code>constrained</code>.</p><p>This store should have <code><a href="Lorentz-UStore.html#t:-124--126--62-" title="Lorentz.UStore">|~&gt;</a></code> and <code><a href="Lorentz-UStore.html#t:UStoreField" title="Lorentz.UStore">UStoreField</a></code> fields in its immediate fields,
 no deep inspection is performed.</p></div></div><a href="#g:5" id="g:5"><h1>UStore composability</h1></a><div class="top"><p class="src"><a id="v:liftUStore" class="def">liftUStore</a> :: (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, RequireAllUniqueFields template) =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> (<a href="Michelson-Typed-Haskell-Instr-Product.html#t:GetFieldType" title="Michelson.Typed.Haskell.Instr.Product">GetFieldType</a> template name) ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template ': s) <a href="src/Lorentz.UStore.Lift.html#liftUStore" class="link">Source</a> <a href="#v:liftUStore" class="selflink">#</a></p><div class="doc"><p>Lift an <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> to another <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> which contains all the entries
 of the former under given field.</p><p>This function is not intended for use in migrations, only in normal
 entry points.</p><p>Note that this function ensures that template of resulting store
 does not contain inner nested templates with duplicated fields,
 otherwise <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> invariants could get broken.</p></div></div><div class="top"><p class="src"><a id="v:unliftUStore" class="def">unliftUStore</a> :: <a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template =&gt; <a href="../vinyl-0.10.0.1/Data-Vinyl-Derived.html#t:Label" title="Data.Vinyl.Derived">Label</a> name -&gt; (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template ': s) <a href="Lorentz-Base.html#t::-45--62-" title="Lorentz.Base">:-&gt;</a> (<a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> (<a href="Michelson-Typed-Haskell-Instr-Product.html#t:GetFieldType" title="Michelson.Typed.Haskell.Instr.Product">GetFieldType</a> template name) ': s) <a href="src/Lorentz.UStore.Lift.html#unliftUStore" class="link">Source</a> <a href="#v:unliftUStore" class="selflink">#</a></p><div class="doc"><p>Unlift an <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> to a smaller <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> which is part of the former.</p><p>This function is not intended for use in migrations, only in normal
 entry points.</p><p>Surprisingly, despite smaller <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> may have extra entries,
 this function is safe when used in contract code.
 Truly, all getters and setters are still safe to use.
 Also, there is no way for the resulting small <code>UStore</code> to leak outside
 of the contract since the only place where <code>big_map</code> can appear
 is contract storage, so this small <code>UStore</code> can be either dropped
 or lifted back via <code><a href="Lorentz-UStore.html#v:liftUStore" title="Lorentz.UStore">liftUStore</a></code> to appear as part of the new contract's state.</p><p>When this function is run as part of standalone instructions sequence,
 not as part of contract code (e.g. in tests), you may get an <code>UStore</code>
 with entries not inherent to it.</p></div></div><a href="#g:6" id="g:6"><h1>UStore management from Haskell</h1></a><div class="top"><p class="src"><span class="keyword">class</span> GUStoreConversible (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> template) =&gt; <a id="t:UStoreConversible" class="def">UStoreConversible</a> template <a href="src/Lorentz.UStore.Haskell.html#UStoreConversible" class="link">Source</a> <a href="#t:UStoreConversible" class="selflink">#</a></p><div class="doc"><p>Given template can be converted to <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> value.</p></div><div class="subs instances"><details id="i:UStoreConversible" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:UStoreConversible:UStoreConversible:1"></span> GUStoreConversible (<a href="../base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> template) =&gt; <a href="Lorentz-UStore.html#t:UStoreConversible" title="Lorentz.UStore">UStoreConversible</a> template</span> <a href="src/Lorentz.UStore.Haskell.html#line-82" class="link">Source</a> <a href="#t:UStoreConversible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:UStoreConversible:UStoreConversible:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lorentz-UStore-Haskell.html">Lorentz.UStore.Haskell</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkUStore" class="def">mkUStore</a> :: (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, <a href="Lorentz-UStore.html#t:UStoreConversible" title="Lorentz.UStore">UStoreConversible</a> template) =&gt; template -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template <a href="src/Lorentz.UStore.Haskell.html#mkUStore" class="link">Source</a> <a href="#v:mkUStore" class="selflink">#</a></p><div class="doc"><p>Make <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> from separate <code>big_map</code>s and fields.</p></div></div><div class="top"><p class="src"><a id="v:ustoreDecompose" class="def">ustoreDecompose</a> :: <span class="keyword">forall</span> template. (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, <a href="Lorentz-UStore.html#t:UStoreConversible" title="Lorentz.UStore">UStoreConversible</a> template) =&gt; <a href="Michelson-Interpret-Unpack.html#t:UnpackEnv" title="Michelson.Interpret.Unpack">UnpackEnv</a> -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> (<a href="Lorentz-UStore-Haskell.html#t:UStoreContent" title="Lorentz.UStore.Haskell">UStoreContent</a>, template) <a href="src/Lorentz.UStore.Haskell.html#ustoreDecompose" class="link">Source</a> <a href="#v:ustoreDecompose" class="selflink">#</a></p><div class="doc"><p>Decompose <code><a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a></code> into separate <code>big_map</code>s and fields.</p><p>Since this function needs to <code>UNPACK</code> content of <code>UStore</code> to actual
 keys and values, you have to provide <code><a href="Michelson-Interpret-Unpack.html#t:UnpackEnv" title="Michelson.Interpret.Unpack">UnpackEnv</a></code>.</p><p>Along with resulting value, you get a list of <code>UStore</code> entries which
 were not recognized as belonging to any submap or field according to
 <code>UStore</code>'s template - this should be empty unless <code>UStore</code> invariants
 were violated.</p></div></div><div class="top"><p class="src"><a id="v:ustoreDecomposeFull" class="def">ustoreDecomposeFull</a> :: <span class="keyword">forall</span> template. (<a href="Lorentz-Prelude.html#t:Generic" title="Lorentz.Prelude">Generic</a> template, <a href="Lorentz-UStore.html#t:UStoreConversible" title="Lorentz.UStore">UStoreConversible</a> template) =&gt; <a href="Michelson-Interpret-Unpack.html#t:UnpackEnv" title="Michelson.Interpret.Unpack">UnpackEnv</a> -&gt; <a href="Lorentz-UStore.html#t:UStore" title="Lorentz.UStore">UStore</a> template -&gt; <a href="Lorentz-Prelude.html#t:Either" title="Lorentz.Prelude">Either</a> <a href="Lorentz-Prelude.html#t:Text" title="Lorentz.Prelude">Text</a> template <a href="src/Lorentz.UStore.Haskell.html#ustoreDecomposeFull" class="link">Source</a> <a href="#v:ustoreDecomposeFull" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Lorentz-UStore.html#v:ustoreDecompose" title="Lorentz.UStore">ustoreDecompose</a></code>, but requires all entries from <code>UStore</code> to be
 recognized.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>